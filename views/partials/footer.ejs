<!-- views/partials/footer.ejs -->

<div class="foot-index-container">
    <label>Organization</label>
    <input type="text" name="organization" id="organization-foot-index" required="" placeholder="Organization"/>
    <label>Occupation</label>
    <input type="text" name="occupation" id="occupation-foot-index"  placeholder="Occupation"/>
    <p><button onclick="chooseOrganizationName(0)" class="auto-btn btn-small">0</button><button onclick="chooseOrganizationName(1)" class="auto-btn btn-small">1</button><button onclick="chooseOrganizationName(2)" class="auto-btn btn-small">2</button><button onclick="chooseOrganizationName(3)" class="auto-btn btn-small">3</button><button onclick="chooseOrganizationName(4)" class="auto-btn btn-small">4</button><button onclick="chooseOrganizationName(5)" class="auto-btn btn-small">5</button><button onclick="chooseOrganizationName(6)" class="auto-btn btn-small">6</button><button onclick="chooseOrganizationName(7)" class="auto-btn btn-small">7</button><button onclick="chooseOrganizationName(8)" class="auto-btn btn-small">8</button><button onclick="chooseOrganizationName(9)" class="auto-btn btn-small">9</button><button onclick="chooseOrganizationName(10)" class="auto-btn btn-small">10</button><button onclick="chooseOrganizationName(11)" class="auto-btn btn-small">11</button><button onclick="chooseOrganizationName(12)" class="auto-btn btn-small">12</button><button onclick="chooseOrganizationName(13)" class="auto-btn btn-small">13</button><button onclick="chooseOrganizationName(14)" class="auto-btn btn-small">14</button><button onclick="chooseOrganizationName(15)" class="auto-btn btn-small">15</button></p>
    <hr/>

    <label>First Name</label>
    <p><input type="text" name="firstName" required="" id="firstName-foot-index" placeholder="First Name"/><button id="trackSingleTrait-" onclick="trackSingleTrait('firstName','track')">Track - First Name</button><button id="trackSingleTrait-" onclick="trackSingleTrait('firstName','identify')">Identify - First Name</button></p>
    <p><button onclick="chooseFirstName(0,firstNames)" class="auto-btn btn-small">0</button><button onclick="chooseFirstName(1,firstNames)" class="auto-btn btn-small">1</button><button onclick="chooseFirstName(2,firstNames)" class="auto-btn btn-small">2</button><button onclick="chooseFirstName(3,firstNames)" class="auto-btn btn-small">3</button><button onclick="chooseFirstName(4,firstNames)" class="auto-btn btn-small">4</button><button onclick="chooseFirstName(5,firstNames)" class="auto-btn btn-small">5</button><button onclick="chooseFirstName(6,firstNames)" class="auto-btn btn-small">6</button><button onclick="chooseFirstName(7,firstNames)" class="auto-btn btn-small">7</button><button onclick="chooseFirstName(8,firstNames)" class="auto-btn btn-small">8</button><button onclick="chooseFirstName(9,firstNames)" class="auto-btn btn-small">9</button><button onclick="chooseFirstName(10,firstNames)" class="auto-btn btn-small">10</button><button onclick="chooseFirstName(11,firstNames)" class="auto-btn btn-small">11</button><button onclick="chooseFirstName(12,firstNames)" class="auto-btn btn-small">12</button><button onclick="chooseFirstName(13,firstNames)" class="auto-btn btn-small">13</button><button onclick="chooseFirstName(14,firstNames)" class="auto-btn btn-small">14</button><button onclick="chooseFirstName(15,firstNames)" class="auto-btn btn-small">15</button></p>
    <p><button onclick="chooseFirstName(0,shouldersFam)" class="auto-btn btn-small">0</button><button onclick="chooseFirstName(1,shouldersFam)" class="auto-btn btn-small">1</button><button onclick="chooseFirstName(2,shouldersFam)" class="auto-btn btn-small">2</button><button onclick="chooseFirstName(3,shouldersFam)" class="auto-btn btn-small">3</button><button onclick="chooseFirstName(4,shouldersFam)" class="auto-btn btn-small">4</button><button onclick="chooseFirstName(5,shouldersFam)" class="auto-btn btn-small">5</button><button onclick="chooseFirstName(6,shouldersFam)" class="auto-btn btn-small">6</button><button onclick="chooseFirstName(7,shouldersFam)" class="auto-btn btn-small">7</button><button onclick="chooseFirstName(8,shouldersFam)" class="auto-btn btn-small">8</button><button onclick="chooseFirstName(9,shouldersFam)" class="auto-btn btn-small">9</button><button onclick="chooseFirstName(10,shouldersFam)" class="auto-btn btn-small">10</button><button onclick="chooseFirstName(11,shouldersFam)" class="auto-btn btn-small">11</button><button onclick="chooseFirstName(12,shouldersFam)" class="auto-btn btn-small">12</button><button onclick="chooseFirstName(13,shouldersFam)" class="auto-btn btn-small">13</button><button onclick="chooseFirstName(14,shouldersFam)" class="auto-btn btn-small">14</button><button onclick="chooseFirstName(15,shouldersFam)" class="auto-btn btn-small">15</button></p>

    <label>Last Name</label>
    <p><input type="text" name="lastName" id="lastName-foot-index" required="" placeholder="Last Name"/><button id="trackSingleTrait-" onclick="trackSingleTrait('lastName','track')">Track - Last Name</button><button id="trackSingleTrait-" onclick="trackSingleTrait('lastName','identify')">Identify - Last Name</button></p>
    <p><button onclick="chooseLastName(0)" class="auto-btn btn-small">0</button><button onclick="chooseLastName(1)" class="auto-btn btn-small">1</button><button onclick="chooseLastName(2)" class="auto-btn btn-small">2</button><button onclick="chooseLastName(3)" class="auto-btn btn-small">3</button><button onclick="chooseLastName(4)" class="auto-btn btn-small">4</button><button onclick="chooseLastName(5)" class="auto-btn btn-small">5</button><button onclick="chooseLastName(6)" class="auto-btn btn-small">6</button><button onclick="chooseLastName(7)" class="auto-btn btn-small">7</button><button onclick="chooseLastName(8)" class="auto-btn btn-small">8</button><button onclick="chooseLastName(9)" class="auto-btn btn-small">9</button><button onclick="chooseLastName(10)" class="auto-btn btn-small">10</button><button onclick="chooseLastName(11)" class="auto-btn btn-small">11</button><button onclick="chooseLastName(12)" class="auto-btn btn-small">12</button><button onclick="chooseLastName(13)" class="auto-btn btn-small">13</button><button onclick="chooseLastName(14)" class="auto-btn btn-small">14</button><button onclick="chooseLastName(15)" class="auto-btn btn-small">15</button></p>

    <label>Email</label>
    <p><input type="email" name="email" id="email-foot-index" required="" placeholder="Email"/><button id="trackSingleTrait-" onclick="trackSingleTrait('email','track')">Track - Email</button><button id="trackSingleTrait-" onclick="trackSingleTrait('email','identify')">Identify - Email</button></p>
    <p><button onclick="chooseEmail(0)" class="auto-btn btn-small">0</button><button onclick="chooseEmail(1)" class="auto-btn btn-small">1</button><button onclick="chooseEmail(2)" class="auto-btn btn-small">2</button><button onclick="chooseEmail(3)" class="auto-btn btn-small">3</button><button onclick="chooseEmail(4)" class="auto-btn btn-small">4</button><button onclick="chooseEmail(5)" class="auto-btn btn-small">5</button><button onclick="chooseEmail(6)" class="auto-btn btn-small">6</button><button onclick="chooseEmail(7)" class="auto-btn btn-small">7</button><button onclick="chooseEmail(8)" class="auto-btn btn-small">8</button><button onclick="chooseEmail(9)" class="auto-btn btn-small">9</button><button onclick="chooseEmail(10)" class="auto-btn btn-small">10</button><button onclick="chooseEmail(11)" class="auto-btn btn-small">11</button><button onclick="chooseEmail(12)" class="auto-btn btn-small">12</button><button onclick="chooseEmail(13)" class="auto-btn btn-small">13</button><button onclick="chooseEmail(14)" class="auto-btn btn-small">14</button><button onclick="chooseEmail(15)" class="auto-btn btn-small">15</button></p>

    <label>Favorite Social Media To Use</label>
    <p><input type="text" name="favoriteSocialMedia" id="fav-soc-media-foot-index" required="" placeholder="Favorite Social Media To Use"/><button id="trackSingleTrait-" onclick="trackSingleTrait('favSocMedia','track')">Track - Favorite Social Media To Use</button><button id="trackSingleTrait-" onclick="trackSingleTrait('favSocMedia','identify')">Identify - Favorite Social Media To Use</button></p>
    <p><button onclick="chooseSocialMedia(0)" class="auto-btn btn-small">0</button><button onclick="chooseSocialMedia(1)" class="auto-btn btn-small">1</button><button onclick="chooseSocialMedia(2)" class="auto-btn btn-small">2</button><button onclick="chooseSocialMedia(3)" class="auto-btn btn-small">3</button><button onclick="chooseSocialMedia(4)" class="auto-btn btn-small">4</button><button onclick="chooseSocialMedia(5)" class="auto-btn btn-small">5</button><button onclick="chooseSocialMedia(6)" class="auto-btn btn-small">6</button><button onclick="chooseSocialMedia(7)" class="auto-btn btn-small">7</button><button onclick="chooseSocialMedia(8)" class="auto-btn btn-small">8</button><button onclick="chooseSocialMedia(9)" class="auto-btn btn-small">9</button><button onclick="chooseSocialMedia(10)" class="auto-btn btn-small">10</button><button onclick="chooseSocialMedia(11)" class="auto-btn btn-small">11</button><button onclick="chooseSocialMedia(12)" class="auto-btn btn-small">12</button><button onclick="chooseSocialMedia(13)" class="auto-btn btn-small">13</button><button onclick="chooseSocialMedia(14)" class="auto-btn btn-small">14</button><button onclick="chooseSocialMedia(15)" class="auto-btn btn-small">15</button></p>

    <label>Username</label>
    <p><input type="text" name="userName" id="userName-foot-index" required="" placeholder="Choose a username"/><button id="trackSingleTrait-" onclick="trackSingleTrait('userName','track')">Track - Username</button><button id="trackSingleTrait-" onclick="trackSingleTrait('userName','identify')">Identify - Username</button></p>
    <p><button onclick="chooseUserName(0)" class="auto-btn btn-small">0</button><button onclick="chooseUserName(1)" class="auto-btn btn-small">1</button><button onclick="chooseUserName(2)" class="auto-btn btn-small">2</button><button onclick="chooseUserName(3)" class="auto-btn btn-small">3</button><button onclick="chooseUserName(4)" class="auto-btn btn-small">4</button><button onclick="chooseUserName(5)" class="auto-btn btn-small">5</button><button onclick="chooseUserName(6)" class="auto-btn btn-small">6</button><button onclick="chooseUserName(7)" class="auto-btn btn-small">7</button><button onclick="chooseUserName(8)" class="auto-btn btn-small">8</button><button onclick="chooseUserName(9)" class="auto-btn btn-small">9</button><button onclick="chooseUserName(10)" class="auto-btn btn-small">10</button><button onclick="chooseUserName(11)" class="auto-btn btn-small">11</button><button onclick="chooseUserName(12)" class="auto-btn btn-small">12</button><button onclick="chooseUserName(13)" class="auto-btn btn-small">13</button><button onclick="chooseUserName(14)" class="auto-btn btn-small">14</button><button onclick="chooseUserName(15)" class="auto-btn btn-small">15</button></p>
    <span id="groupBtns">
        <button class="faded-btn" onclick="giveGroupId()" id="groupNum">GROUP NUM</button>
        <button onclick="groupCall()" id="groupCall">CALL GROUP</button>
    </span>
    <button id="submitNewAccountInputs" onclick="createNewAccount()">SAVE</button>
</div>
<div>
    <p><button id="trackSingleTrait-" onclick="trackSingleTrait('firstName','track')">Track - First Name</button>  <button id="trackSingleTrait-" onclick="trackSingleTrait('firstName','identify')">Identify - First Name</button></p>
    <p><button id="trackSingleTrait-" onclick="trackSingleTrait('lastName','track')">Track - Last Name</button>  <button id="trackSingleTrait-" onclick="trackSingleTrait('lastName','identify')">Identify - Last Name</button></p>
    <p><button id="trackSingleTrait-" onclick="trackSingleTrait('email','track')">Track - Email</button>  <button id="trackSingleTrait-" onclick="trackSingleTrait('email','identify')">Identify - Email</button></p>
    <p><button id="trackSingleTrait-" onclick="trackSingleTrait('favSocMedia','track')">Track - Fav Social Media</button>  <button id="trackSingleTrait-" onclick="trackSingleTrait('favSocMedia','identify')">Identify - Fav Social Media</button></p>
    <p><button id="trackSingleTrait-" onclick="trackSingleTrait('userName','track')">Track - Username</button>  <button id="trackSingleTrait-" onclick="trackSingleTrait('userName','identify')">Identify - Username</button></p>
</div>
<footer class="text-center text-muted footer">
    <p>&#169 minifi </p>
</footer>

<script>
    let shouldersFam = ["Randy","Helen","Lara","Tobie","Emily","Nick","Liz","Zack","Molly","Courtney","Luke","Micah","Austin","Taylor","Lilly","Ernest","Ellis"]
    let firstNames = ["Liz","Jason","Lucy","Michael","Nicole","Alison","Paige","Lyn","Louise","Isaac","Ann","Marie","Justin","Harold","Esteban","Carl",]
    let lastNames = ["Smith","Crawford","Hilton","Chestertown","Evers","Calhoun","Monagle","Richardson","Winters","Myers","Visscher","Garcia","Soma","Wisbon","Donzella","Irungu",]

    let firstNameInput 
    const chooseFirstName = (num,array) =>{
        console.log(array[num])
        firstNameInput = array[num]
        document.getElementById("firstName-foot-index").value = firstNameInput;
        firstNameGroupInput = firstNameInput;
        document.getElementById("group-user-name-index").value = firstNameGroupInput
    }
    let lastNameInput
    let fullNameProfile
    const chooseLastName = (num) => {
        console.log(lastNames[num])
        lastNameInput = lastNames[num]
        document.getElementById("lastName-foot-index").value = lastNameInput;
        lastNameGroupInput = lastNameInput;
        document.getElementById("group-user-last-index").value = lastNameGroupInput
        if(lastNameInput && firstNameInput){
            fullNameProfile = `${firstNameInput} ${lastNameInput}`;
            document.getElementById("profileName").value = fullNameProfile;
        } 
    }
    let organizationInput, occupationInput
    let chooseOrganizationName = (num) => {
        let occupations = ["Baker","Welder","Farmer","Cook","Butler","Maid","Equester","Rancher","Cleaner","Marketer","Engineer","Analyst","Scientist","Optometrist","Professor","Translator",]
        occupationInput = occupations[num];
        console.log(`OCCUPATION:`,occupationInput,`=`,occupations[num]);
        document.getElementById("occupation-foot-index").value = occupationInput;
        
        let orgtypes = [" Baking"," Welding"," Farming"," Cooking"," Butler Services"," Maid Services"," Horses"," Ranchers"," Cleaners"," Marketing"," Engineering"," Analyses"," Sciences"," Optometry"," Schooling"," Translations",]
        organizationInput = (lastNameInput+orgtypes[num]+" Inc");
        console.log(`OCCUPATION:`,organizationInput,`=`,lastNameInput+orgtypes[num]+" Inc");
        document.getElementById("organization-foot-index").value = organizationInput;
        //if(organizationInput && occupationInput){
        //    document.getElementById("profileOccupation").value = occupationInput
        //    document.getElementById("profileOrganization").value = organizationInput
        //} 
    }
    let emailInput
    let mudra = ["Earth","Wind","Fire","Ether","Water","Mountain","Grass","Star","Planet","Soul","Life","Unity","Serenity","Peace","Harmony","Ocean","Magma",]
    const chooseEmail = (num) => {
        console.log(mudra[num])
        emailInput = (`${firstNameInput}${lastNameInput}${num}@${mudra[num]}.com`)
        document.getElementById("email-foot-index").value = emailInput;
        if(emailInput){
            document.getElementById("profilePersonalEmail").value = emailInput
            document.getElementById("profilePersonalEmail").value = emailInput
        } 
        if(emailInput){
            document.getElementById("profilePersonalEmail").value = emailInput
            document.getElementById("profileWorkEmail").value = emailInput
        } 
    }
    let favSocMediaInput
    const chooseSocialMedia = (num) => {
        let allSoc = ["Twitter","Instagram","Tik Tok","Facebook","Myspace","Rodeo","Food Network","Music","Pinterest","LinkedIn","Tumblr","Reddit","Snapchat","WhatsApp","BixSugar","YouTube",]
        console.log(allSoc[num])
        favSocMediaInput = allSoc[num]
        document.getElementById("fav-soc-media-foot-index").value = favSocMediaInput;
        if(organizationInput && occupationInput){
            document.getElementById("profileSocialMedia").value = favSocMediaInput
        } 
    }
    let userNameInput
    const chooseUserName = (num) => {
        //let allSoc = ["Twitter","Instagram","Tik Tok","Facebook","Myspace","Rodeo","Food Network","Music","Pinterest","LinkedIn","Tumblr","Reddit","Snapchat","WhatsApp","BixSugar","YouTube",]
        //console.log(allSoc.length)
        userNameInput = (`${firstNameInput}${mudra[num]}${num}`)
        document.getElementById("userName-foot-index").value = userNameInput;
        if(userNameInput){
            document.getElementById("profileUsername").value = userNameInput
        } 
    }
    if(!document.title === "GET ALL | USERS"){
        //document.getElementsById("groupBtns").style.display = "block";
        //$(".groupBtns").show();
        //$(".groupBtns").hide();
    }
    else{
        //document.getElementsById("groupBtns").style.display = "none";
        //   document.getElementsById("groupBtns").show();
        //$(".groupBtns").hide();
        //$(".groupBtns").show();
    }

    // * ? RANDOM INPUT
    
    let arrIiVal 
    const randomIndexArray = (array) => {
        for(let i=0; i<4;i++){
            let counter = 4
            arrIiVal = array[Math.floor(Math.random()*(array.length))]
            console.log(`***THIS IS arrIiVal*** `,arrIiVal)
            //idList = idList.concat(arrIiVal)
            counter++
        }
    }
    //END RANDOM INPUT

    let traits,properties
    let firstName
    let lastName
    let organization
    let email
    let favSocMedia
    let userName

    const trackSingleTrait = (trait,action) => {
        let track, identify
        if(action=="track"){
            action = track
        }
        else if(action=="identify"){
            action = identify
        }
        if(trait == ""){
        firstName = document.getElementById("firstName-foot-index").value;
        email = document.getElementById("email-foot-index").value;
        analytics.action("User firstName Added",{firstName:firstName,email:email})
        }
        if(trait == "lastName"){
            lastName = document.getElementById("lastName-foot-index").value;
            email = document.getElementById("email-foot-index").value;
            analytics.action("User firstName Added",{lastName:lastName,email:email})
        }
        if(trait == "organization"){
            organization = document.getElementById("organization-foot-index").value;
            email = document.getElementById("email-foot-index").value;
            analytics.action("User firstName Added",{organization:organization,email:email})
        }
        if(trait == "email"){
            email = document.getElementById("email-foot-index").value;
            analytics.identify([],{email:email})
            analytics.action("User firstName Added",{email:email})
        }
        if(trait == "favSocMedia"){
            favSocMedia = document.getElementById("fav-soc-media-foot-index").value;
            email = document.getElementById("email-foot-index").value;
            analytics.action("User firstName Added",{favSocMedia:favSocMedia,email:email})
        }
        if(trait == "userName"){
            userName = document.getElementById("userName-foot-index").value;
            email = document.getElementById("email-foot-index").value;
            analytics.action("User firstName Added",{userName:userName,email:email})
        }
    }

    const createNewAccount = () => {
        firstName = document.getElementById("firstName-foot-index").value;
        lastName = document.getElementById("lastName-foot-index").value;
        organization = document.getElementById("organization-foot-index").value;
        email = document.getElementById("email-foot-index").value;
        favSocMedia = document.getElementById("fav-soc-media-foot-index").value;
        userName = document.getElementById("userName-foot-index").value;
        //let firstName = firstNameInput
        //let lastName = lastNameInput
        //let organization = organizationInput
        //let email = emailInput
        //let favSocMedia = favSocMediaInput
        //let userName = userNameInput
        
        console.log(`firstNameInput : `,firstNameInput,`  --  firstName : `,firstName);
        console.log(`lastNameInput : `,lastNameInput,`  --  lastName : `,lastName);
        console.log(`organizationInput : `,organizationInput,`  --  organization : `,organization);
        console.log(`emailInput : `,emailInput,`  --  email : `,email);
        console.log(`favSocMediaInput : `,favSocMediaInput,`  --  favSocMedia : `,favSocMedia);
        console.log(`userNameInput : `,userNameInput,`  --  userName : `,userName);
        //console.log(" || firstName : ",firstName," || lastName : ",lastName," || organization : ",organization," || email : ",email,)
        
        let userId = serverUserId
        console.log(`serverUserId slashes ? `,serverUserId)
        traits = {
            email : email,
            $Name : `${firstName} ${lastName}`,
            primaryEmail : email,
            //favSocMedia : favSocMedia,
            anonymousId : serverAnonymousId,
            name : `${firstName} ${lastName}`,
            organization : organization,
            title: occupationInput,
            userId : userId,
            firstName : firstName,
            lastName : lastName,
            userName : userName,
            givenName : firstName,
            surName : lastName,
        }


        
        // ****** PROPS BELOW WORK ****** TAKING OUT FOR TESTING ********
        properties = {
            //avatar: "https://firebasestorage.googleapis.com/v0/b/production-tutorbook.appspot.com/o/temp%2F4a992adc-2fdc-4859-9b43-57f76a47e53c.jpg?alt=media&token=842fc7e1-216f-4b4f-9c75-f49bb036aae6",
            email : email,
            $Name : `${firstName} ${lastName}`,
            $avatar: "https://imgur.com/UHwbel0",
            primaryEmail : email,
            favSocMedia : favSocMedia,
            // anonymousId : userAnonymousId,
            // name : `${firstName} ${lastName}`,
            // organization : organization,
            // userId : serverUserId,
            // firstName : firstName,
            // lastName : lastName,
            // userName : userName,
            // givenName : firstName,
            // surName : lastName,
        }
        //console.log(`FOOT 80 - serverUserId ? traits.userId  -- `,serverUserId,` -- `,userId)
        //console.log(`FOOT 81 - traits --  `,traits)


        //analytics.identify([userId], [traits], [options], [callback]);
        analytics.identify(traits.userId,traits,{integrations:{"All":false,"Marketo V2":true,"Customer.io":true, "Klaviyo":true,"Google Analytics":true,"Mixpanel":true,"HubSpot":true,}})
        analytics.track("New Subscription Created",
            properties,
            {
                $userId:userId,
                //traits: traits,
                integrations:{"All":false,"Marketo V2":true,"Customer.io":true, "Klaviyo":true, "Google Analytics":true,"Mixpanel":true,"HubSpot":true}
            },
            // function() {
            //         analytics.reset();
            //         window.location.href = "";
            // }
        )

        //)

        
        //console.log(`FOOT 86 - properties --  `,properties)
        // analytics.track(event, [properties], [options], [callback]);
        
        // **** TRACK BELOW WORK **** TAKING OUT FOR TESTING ********
        
    } 

        //analytics.track("New Account Created",properties,{},function () {window.location.href = "";})
    //document.getElementById("submitNewAccountInputs").addEventListener("click",createNewAccount,true)
    //createNewAccount function end



//        { // EVENT TESTER 
//            "messageId": "segment-test-message-tfla0hb",
//            "timestamp": "2021-07-30T18:29:02.171Z",
//            "type": "track",
//            "projectId": "59QwxR3ek7JDvAqtZbPrZ1",
//            "properties": {
//              "Email": "helenlizkane@me.com",
//              "anonymousId": "999-77700-444",
//              "userId": "11223344556677",
//              "name": "Helen Kane",
//              "favSocMedia": "Instagram",
//              "organization": "Segment",
//              "givenName": "Helen",
//              "surname": "Kane",
//              "userName": "lizTest11"
//            },
//            "userId": "0111-0222-0333",
//            "event": "New Account Created"
//          }
</script>

